{
  "aliases": [],
  "arbitrary": [
    {
      "children": [
        {
          "data": {
            "placeholder": "target",
            "value": ".. _execution_semantics:"
          },
          "type": "Unimplemented"
        }
      ],
      "level": 0,
      "title": null
    },
    {
      "children": [
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "When IPython kernel receives "
                },
                "type": "Words"
              },
              {
                "data": {
                  "target": "https://jupyter-client.readthedocs.io/en/latest/messaging.html#execute",
                  "value": "execute_request"
                },
                "type": "ExternalLink"
              },
              {
                "data": {
                  "value": " with user code, it processes the message in the following phases:"
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "children": [
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "Fire the "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "pre_execute"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " event."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              },
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "Fire the "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "pre_run_cell"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " event unless silent is "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "True"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": "."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              },
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "Execute "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "run_cell"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " method to preprocess "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "code"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": ", compile and run it, see below for details."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              },
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "If execution succeeds, expressions in "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "user_expressions"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " are computed.    This ensures that any error in the expressions don't affect the main code execution."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              },
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "Fire the "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "post_execute"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " event."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              },
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "Fire the "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "post_run_cell"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " event unless silent is "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "True"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": "."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              }
            ]
          },
          "type": "EnumeratedList"
        },
        {
          "data": {
            "argument": "",
            "content": ":doc:`/config/callbacks`",
            "name": "seealso",
            "options": []
          },
          "type": "BlockDirective"
        }
      ],
      "level": 0,
      "title": "Execution of cells in the IPython kernel"
    },
    {
      "children": [
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "First, the "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "code"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " cell is transformed to expand "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "%magic"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " and "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "!system"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " commands by "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "IPython.core.inputtransformer2"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": ". Then expanded cell is compiled using standard Python "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "compile"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " function and executed."
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "Python "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "compile"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " function provides "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "mode"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " argument to select one of three ways of compiling code:"
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "children": [
              {
                "dd": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "Valid for a single interactive statement (though the source can contain   multiple lines, such as a for loop).  When compiled in this mode, the   generated bytecode contains special instructions that trigger the calling of   "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "sys.displayhook"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " for any expression in the block that returns a value.   This means that a single statement can actually produce multiple calls to   "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "sys.displayhook"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": ", if for example it contains a loop where each   iteration computes an unassigned expression would generate 10 calls:        "
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  },
                  {
                    "data": {
                      "value": "for i in range(10):\n    i**2"
                    },
                    "type": "BlockVerbatim"
                  }
                ],
                "dt": {
                  "children": [
                    {
                      "data": {
                        "value": {
                          "value": "single"
                        }
                      },
                      "type": "Emph"
                    }
                  ]
                }
              },
              {
                "dd": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "An arbitrary amount of source code, this is how modules are compiled.   "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "sys.displayhook"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " is "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": {
                              "value": "never"
                            }
                          },
                          "type": "Emph"
                        },
                        {
                          "data": {
                            "value": " implicitly called."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ],
                "dt": {
                  "children": [
                    {
                      "data": {
                        "value": {
                          "value": "exec"
                        }
                      },
                      "type": "Emph"
                    }
                  ]
                }
              },
              {
                "dd": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "A single expression that returns a value.  "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "sys.displayhook"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " is "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": {
                              "value": "never"
                            }
                          },
                          "type": "Emph"
                        },
                        {
                          "data": {
                            "value": "   implicitly called."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ],
                "dt": {
                  "children": [
                    {
                      "data": {
                        "value": {
                          "value": "eval"
                        }
                      },
                      "type": "Emph"
                    }
                  ]
                }
              }
            ]
          },
          "type": "DefList"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "The "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "code"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " field is split into individual blocks each of which is valid for execution in 'single' mode, and then:"
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "children": [
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "If there is only a single block: it is executed in 'single' mode."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              },
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "If there is more than one block:"
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  },
                  {
                    "data": {
                      "children": [
                        {
                          "children": [
                            {
                              "data": {
                                "children": [
                                  {
                                    "data": {
                                      "value": "if the last block is a single line long, run all but the last in 'exec' mode     and the very last one in 'single' mode.  This makes it easy to type simple     expressions at the end to see computed values."
                                    },
                                    "type": "Words"
                                  }
                                ]
                              },
                              "type": "Paragraph"
                            }
                          ]
                        },
                        {
                          "children": [
                            {
                              "data": {
                                "children": [
                                  {
                                    "data": {
                                      "value": "if the last block is no more than two lines long, run all but the last in     'exec' mode and the very last one in 'single' mode.  This makes it easy to     type simple expressions at the end to see computed values.  - otherwise     (last one is also multiline), run all in 'exec' mode"
                                    },
                                    "type": "Words"
                                  }
                                ]
                              },
                              "type": "Paragraph"
                            }
                          ]
                        },
                        {
                          "children": [
                            {
                              "data": {
                                "children": [
                                  {
                                    "data": {
                                      "value": "otherwise (last block is also multiline), run all in 'exec' mode as a single     unit."
                                    },
                                    "type": "Words"
                                  }
                                ]
                              },
                              "type": "Paragraph"
                            }
                          ]
                        }
                      ]
                    },
                    "type": "BulletList"
                  }
                ]
              }
            ]
          },
          "type": "BulletList"
        }
      ],
      "level": 0,
      "title": "Running user ``code``"
    }
  ],
  "content": {},
  "example_section_data": {
    "children": [],
    "level": 0,
    "title": null
  },
  "item_file": null,
  "item_line": null,
  "item_type": null,
  "ordered_sections": [],
  "references": null,
  "see_also": [],
  "signature": {
    "value": null
  }
}