{
  "aliases": [],
  "arbitrary": [
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "This release supports Python 2.6 - 2.7 and 3.2 - 3.5 and contains a number of enhancements and improvements. Note also the build system changes listed below as they may have subtle effects."
            }
          ],
          "type": "paragraph"
        },
        {
          "children": [
            {
              "type": "text",
              "value": "No Windows (TM) binaries are provided for this release due to a broken toolchain. One of the providers of Python packages for Windows (TM) is your best bet."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 0,
      "target": null,
      "title": "NumPy 1.11.0 Release Notes",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "Details of these improvements can be found below."
            }
          ],
          "type": "paragraph"
        },
        {
          "children": [
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "The datetime64 type is now timezone naive."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "A dtype parameter has been added to "
                    },
                    {
                      "type": "inlineCode",
                      "value": "randint"
                    },
                    {
                      "type": "text",
                      "value": "."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Improved detection of two arrays possibly sharing memory."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Automatic bin size estimation for "
                    },
                    {
                      "type": "inlineCode",
                      "value": "np.histogram"
                    },
                    {
                      "type": "text",
                      "value": "."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Speed optimization of A @ A.T and dot(A, A.T)."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "New function "
                    },
                    {
                      "type": "inlineCode",
                      "value": "np.moveaxis"
                    },
                    {
                      "type": "text",
                      "value": " for reordering array axes."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            }
          ],
          "ordered": false,
          "spread": false,
          "start": 1,
          "type": "list"
        }
      ],
      "level": 1,
      "target": null,
      "title": "Highlights",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Numpy now uses "
                    },
                    {
                      "type": "inlineCode",
                      "value": "setuptools"
                    },
                    {
                      "type": "text",
                      "value": " for its builds instead of plain distutils.   This fixes usage of "
                    },
                    {
                      "type": "inlineCode",
                      "value": "install_requires='numpy'"
                    },
                    {
                      "type": "text",
                      "value": " in the "
                    },
                    {
                      "type": "inlineCode",
                      "value": "setup.py"
                    },
                    {
                      "type": "text",
                      "value": " files of   projects that depend on Numpy (see gh-6551).  It potentially affects the way   that build/install methods for Numpy itself behave though.  Please report any   unexpected behavior on the Numpy issue tracker."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Bento build support and related files have been removed."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Single file build support and related files have been removed."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            }
          ],
          "ordered": false,
          "spread": false,
          "start": 1,
          "type": "list"
        }
      ],
      "level": 1,
      "target": null,
      "title": "Build System Changes",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The following changes are scheduled for Numpy 1.12.0."
            }
          ],
          "type": "paragraph"
        },
        {
          "children": [
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Support for Python 2.6, 3.2, and 3.3 will be dropped."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Relaxed stride checking will become the default. See the 1.8.0 release   notes for a more extended discussion of what this change implies."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "The behavior of the datetime64 \"not a time\" (NaT) value will be changed   to match that of floating point \"not a number\" (NaN) values: all   comparisons involving NaT will return False, except for NaT != NaT which   will return True."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Indexing with floats will raise IndexError,   e.g., a[0, 0.0]."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Indexing with non-integer array_like will raise "
                    },
                    {
                      "type": "inlineCode",
                      "value": "IndexError"
                    },
                    {
                      "type": "text",
                      "value": ",   e.g., "
                    },
                    {
                      "type": "inlineCode",
                      "value": "a['1', '2']"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Indexing with multiple ellipsis will raise "
                    },
                    {
                      "type": "inlineCode",
                      "value": "IndexError"
                    },
                    {
                      "type": "text",
                      "value": ",   e.g., "
                    },
                    {
                      "type": "inlineCode",
                      "value": "a[..., ...]"
                    },
                    {
                      "type": "text",
                      "value": "."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Non-integers used as index values will raise "
                    },
                    {
                      "type": "inlineCode",
                      "value": "TypeError"
                    },
                    {
                      "type": "text",
                      "value": ",   e.g., in "
                    },
                    {
                      "type": "inlineCode",
                      "value": "reshape"
                    },
                    {
                      "type": "text",
                      "value": ", "
                    },
                    {
                      "type": "inlineCode",
                      "value": "take"
                    },
                    {
                      "type": "text",
                      "value": ", and specifying reduce axis."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            }
          ],
          "ordered": false,
          "spread": false,
          "start": 1,
          "type": "list"
        },
        {
          "children": [
            {
              "type": "text",
              "value": "In a future release the following changes will be made."
            }
          ],
          "type": "paragraph"
        },
        {
          "children": [
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "The "
                    },
                    {
                      "type": "inlineCode",
                      "value": "rand"
                    },
                    {
                      "type": "text",
                      "value": " function exposed in "
                    },
                    {
                      "type": "inlineCode",
                      "value": "numpy.testing"
                    },
                    {
                      "type": "text",
                      "value": " will be removed. That   function is left over from early Numpy and was implemented using the   Python random module.  The random number generators from "
                    },
                    {
                      "type": "inlineCode",
                      "value": "numpy.random"
                    },
                    {
                      "type": "text",
                      "value": "   should be used instead."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "The "
                    },
                    {
                      "type": "inlineCode",
                      "value": "ndarray.view"
                    },
                    {
                      "type": "text",
                      "value": " method will only allow c_contiguous arrays to be   viewed using a dtype of different size causing the last dimension to   change.  That differs from the current behavior where arrays that are   f_contiguous but not c_contiguous can be viewed as a dtype type of   different size causing the first dimension to change."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "Slicing a "
                    },
                    {
                      "type": "inlineCode",
                      "value": "MaskedArray"
                    },
                    {
                      "type": "text",
                      "value": " will return views of both data "
                    },
                    {
                      "children": [
                        {
                          "type": "text",
                          "value": "and"
                        }
                      ],
                      "type": "strong"
                    },
                    {
                      "type": "text",
                      "value": " mask.   Currently the mask is copy-on-write and changes to the mask in the slice do   not propagate to the original mask. See the FutureWarnings section below for   details."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            }
          ],
          "ordered": false,
          "spread": false,
          "start": 1,
          "type": "list"
        }
      ],
      "level": 1,
      "target": null,
      "title": "Future Changes",
      "type": "Section"
    },
    {
      "children": [],
      "level": 1,
      "target": null,
      "title": "Compatibility notes",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "In prior versions of NumPy the experimental datetime64 type always stored times in UTC. By default, creating a datetime64 object from a string or printing it would convert from or to local time      "
            }
          ],
          "type": "paragraph"
        },
        {
          "type": "code",
          "value": "# old behavior\n>>> np.datetime64('2000-01-01T00:00:00')\nnumpy.datetime64('2000-01-01T00:00:00-0800')  # note the timezone offset -08:00"
        },
        {
          "children": [
            {
              "type": "text",
              "value": "A consensus of datetime64 users agreed that this behavior is undesirable and at odds with how datetime64 is usually used (e.g., by "
            },
            {
              "children": [
                {
                  "type": "text",
                  "value": "pandas"
                }
              ],
              "title": "",
              "type": "link",
              "url": "http://pandas.pydata.org"
            },
            {
              "type": "text",
              "value": "). For most use cases, a timezone naive datetime type is preferred, similar to the "
            },
            {
              "type": "inlineCode",
              "value": "datetime.datetime"
            },
            {
              "type": "text",
              "value": " type in the Python standard library. Accordingly, datetime64 no longer assumes that input is in local time, nor does it print local times      "
            }
          ],
          "type": "paragraph"
        },
        {
          "type": "code",
          "value": ">>> np.datetime64('2000-01-01T00:00:00')\nnumpy.datetime64('2000-01-01T00:00:00')"
        },
        {
          "children": [
            {
              "type": "text",
              "value": "For backwards compatibility, datetime64 still parses timezone offsets, which it handles by converting to UTC. However, the resulting datetime is timezone naive      "
            }
          ],
          "type": "paragraph"
        },
        {
          "type": "code",
          "value": ">>> np.datetime64('2000-01-01T00:00:00-08')\nDeprecationWarning: parsing timezone aware datetimes is deprecated;\nthis will raise an error in the future\nnumpy.datetime64('2000-01-01T08:00:00')"
        },
        {
          "children": [
            {
              "type": "text",
              "value": "As a corollary to this change, we no longer prohibit casting between datetimes with date units and datetimes with time units. With timezone naive datetimes, the rule for casting from dates to times is no longer ambiguous."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "datetime64 changes",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The return type of the "
            },
            {
              "type": "inlineCode",
              "value": "linalg.norm"
            },
            {
              "type": "text",
              "value": " function is now floating point without exception.  Some of the norm types previously returned integers."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``linalg.norm`` return type changes",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The various fit functions in the numpy polynomial package no longer accept non-integers for degree specification."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "polynomial fit changes",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "This behaviour mimics that of other functions such as "
            },
            {
              "type": "inlineCode",
              "value": "np.inner"
            },
            {
              "type": "text",
              "value": ". If the two arguments cannot be cast to a common type, it could have raised a "
            },
            {
              "type": "inlineCode",
              "value": "TypeError"
            },
            {
              "type": "text",
              "value": " or "
            },
            {
              "type": "inlineCode",
              "value": "ValueError"
            },
            {
              "type": "text",
              "value": " depending on their order. Now, "
            },
            {
              "type": "inlineCode",
              "value": "np.dot"
            },
            {
              "type": "text",
              "value": " will now always raise a "
            },
            {
              "type": "inlineCode",
              "value": "TypeError"
            },
            {
              "type": "text",
              "value": "."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "*np.dot* now raises ``TypeError`` instead of ``ValueError``",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "In "
                    },
                    {
                      "type": "inlineCode",
                      "value": "np.lib.split"
                    },
                    {
                      "type": "text",
                      "value": " an empty array in the result always had dimension   "
                    },
                    {
                      "type": "inlineCode",
                      "value": "(0,)"
                    },
                    {
                      "type": "text",
                      "value": " no matter the dimensions of the array being split. This   has been changed so that the dimensions will be preserved. A   "
                    },
                    {
                      "type": "inlineCode",
                      "value": "FutureWarning"
                    },
                    {
                      "type": "text",
                      "value": " for this change has been in place since Numpy 1.9 but,   due to a bug, sometimes no warning was raised and the dimensions were   already preserved."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            }
          ],
          "ordered": false,
          "spread": false,
          "start": 1,
          "type": "list"
        }
      ],
      "level": 2,
      "target": null,
      "title": "FutureWarning to changed behavior",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "These operators are implemented with the "
            },
            {
              "type": "inlineCode",
              "value": "remainder"
            },
            {
              "type": "text",
              "value": " and "
            },
            {
              "type": "inlineCode",
              "value": "floor_divide"
            },
            {
              "type": "text",
              "value": " functions respectively. Those functions are now based around "
            },
            {
              "type": "inlineCode",
              "value": "fmod"
            },
            {
              "type": "text",
              "value": " and are computed together so as to be compatible with each other and with the Python versions for float types.  The results should be marginally more accurate or outright bug fixes compared to the previous results, but they may differ significantly in cases where roundoff makes a difference in the integer returned by "
            },
            {
              "type": "inlineCode",
              "value": "floor_divide"
            },
            {
              "type": "text",
              "value": ". Some corner cases also change, for instance, NaN is always returned for both functions when the divisor is zero, "
            },
            {
              "type": "inlineCode",
              "value": "divmod(1.0, inf)"
            },
            {
              "type": "text",
              "value": " returns "
            },
            {
              "type": "inlineCode",
              "value": "(0.0, 1.0)"
            },
            {
              "type": "text",
              "value": " except on MSVC 2008, and "
            },
            {
              "type": "inlineCode",
              "value": "divmod(-1.0, inf)"
            },
            {
              "type": "text",
              "value": " returns "
            },
            {
              "type": "inlineCode",
              "value": "(-1.0, inf)"
            },
            {
              "type": "text",
              "value": "."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``%`` and ``//`` operators",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "Removed the "
            },
            {
              "type": "inlineCode",
              "value": "check_return"
            },
            {
              "type": "text",
              "value": " and "
            },
            {
              "type": "inlineCode",
              "value": "inner_loop_selector"
            },
            {
              "type": "text",
              "value": " members of the "
            },
            {
              "type": "inlineCode",
              "value": "PyUFuncObject"
            },
            {
              "type": "text",
              "value": " struct (replacing them with "
            },
            {
              "type": "inlineCode",
              "value": "reserved"
            },
            {
              "type": "text",
              "value": " slots to preserve struct layout). These were never used for anything, so it's unlikely that any third-party code is using them either, but we mention it here for completeness."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "C API",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "In python 2, objects which are instances of old-style user-defined classes no longer automatically count as 'object' type in the dtype-detection handler. Instead, as in python 3, they may potentially count as sequences, but only if they define both a "
            },
            {
              "domain": null,
              "role": null,
              "type": "Directive",
              "value": "__len__"
            },
            {
              "type": "text",
              "value": " and a "
            },
            {
              "domain": null,
              "role": null,
              "type": "Directive",
              "value": "__getitem__"
            },
            {
              "type": "text",
              "value": " method. This fixes a segfault and inconsistency between python 2 and 3."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "object dtype detection for old-style classes",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "inlineCode",
                      "value": "np.histogram"
                    },
                    {
                      "type": "text",
                      "value": " now provides plugin estimators for automatically   estimating the optimal number of bins. Passing one of ['auto', 'fd',   'scott', 'rice', 'sturges'] as the argument to 'bins' results in the   corresponding estimator being used."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "A benchmark suite using "
                    },
                    {
                      "children": [
                        {
                          "type": "text",
                          "value": "Airspeed Velocity"
                        }
                      ],
                      "title": "",
                      "type": "link",
                      "url": "https://asv.readthedocs.io/"
                    },
                    {
                      "type": "text",
                      "value": " has been added, converting the   previous vbench-based one. You can run the suite locally via "
                    },
                    {
                      "type": "inlineCode",
                      "value": "python\n  runtests.py --bench"
                    },
                    {
                      "type": "text",
                      "value": ". For more details, see "
                    },
                    {
                      "type": "inlineCode",
                      "value": "benchmarks/README.rst"
                    },
                    {
                      "type": "text",
                      "value": "."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "A new function "
                    },
                    {
                      "type": "inlineCode",
                      "value": "np.shares_memory"
                    },
                    {
                      "type": "text",
                      "value": " that can check exactly whether two   arrays have memory overlap is added. "
                    },
                    {
                      "type": "inlineCode",
                      "value": "np.may_share_memory"
                    },
                    {
                      "type": "text",
                      "value": " also now has   an option to spend more effort to reduce false positives."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "inlineCode",
                      "value": "SkipTest"
                    },
                    {
                      "type": "text",
                      "value": " and "
                    },
                    {
                      "type": "inlineCode",
                      "value": "KnownFailureException"
                    },
                    {
                      "type": "text",
                      "value": " exception classes are exposed   in the "
                    },
                    {
                      "type": "inlineCode",
                      "value": "numpy.testing"
                    },
                    {
                      "type": "text",
                      "value": " namespace. Raise them in a test function to mark   the test to be skipped or mark it as a known failure, respectively."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "inlineCode",
                      "value": "f2py.compile"
                    },
                    {
                      "type": "text",
                      "value": " has a new "
                    },
                    {
                      "type": "inlineCode",
                      "value": "extension"
                    },
                    {
                      "type": "text",
                      "value": " keyword parameter that allows the   fortran extension to be specified for generated temp files. For instance,   the files can be specifies to be "
                    },
                    {
                      "type": "inlineCode",
                      "value": "*.f90"
                    },
                    {
                      "type": "text",
                      "value": ". The "
                    },
                    {
                      "type": "inlineCode",
                      "value": "verbose"
                    },
                    {
                      "type": "text",
                      "value": " argument is   also activated, it was previously ignored."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "A "
                    },
                    {
                      "type": "inlineCode",
                      "value": "dtype"
                    },
                    {
                      "type": "text",
                      "value": " parameter has been added to "
                    },
                    {
                      "type": "inlineCode",
                      "value": "np.random.randint"
                    },
                    {
                      "type": "text",
                      "value": "   Random ndarrays of the following types can now be generated:"
                    }
                  ],
                  "type": "paragraph"
                },
                {
                  "children": [
                    {
                      "children": [
                        {
                          "children": [
                            {
                              "type": "inlineCode",
                              "value": "np.bool_"
                            },
                            {
                              "type": "text",
                              "value": ","
                            }
                          ],
                          "type": "paragraph"
                        }
                      ],
                      "spread": false,
                      "type": "listItem"
                    },
                    {
                      "children": [
                        {
                          "children": [
                            {
                              "type": "inlineCode",
                              "value": "np.int8"
                            },
                            {
                              "type": "text",
                              "value": ", "
                            },
                            {
                              "type": "inlineCode",
                              "value": "np.uint8"
                            },
                            {
                              "type": "text",
                              "value": ","
                            }
                          ],
                          "type": "paragraph"
                        }
                      ],
                      "spread": false,
                      "type": "listItem"
                    },
                    {
                      "children": [
                        {
                          "children": [
                            {
                              "type": "inlineCode",
                              "value": "np.int16"
                            },
                            {
                              "type": "text",
                              "value": ", "
                            },
                            {
                              "type": "inlineCode",
                              "value": "np.uint16"
                            },
                            {
                              "type": "text",
                              "value": ","
                            }
                          ],
                          "type": "paragraph"
                        }
                      ],
                      "spread": false,
                      "type": "listItem"
                    },
                    {
                      "children": [
                        {
                          "children": [
                            {
                              "type": "inlineCode",
                              "value": "np.int32"
                            },
                            {
                              "type": "text",
                              "value": ", "
                            },
                            {
                              "type": "inlineCode",
                              "value": "np.uint32"
                            },
                            {
                              "type": "text",
                              "value": ","
                            }
                          ],
                          "type": "paragraph"
                        }
                      ],
                      "spread": false,
                      "type": "listItem"
                    },
                    {
                      "children": [
                        {
                          "children": [
                            {
                              "type": "inlineCode",
                              "value": "np.int64"
                            },
                            {
                              "type": "text",
                              "value": ", "
                            },
                            {
                              "type": "inlineCode",
                              "value": "np.uint64"
                            },
                            {
                              "type": "text",
                              "value": ","
                            }
                          ],
                          "type": "paragraph"
                        }
                      ],
                      "spread": false,
                      "type": "listItem"
                    },
                    {
                      "children": [
                        {
                          "children": [
                            {
                              "type": "inlineCode",
                              "value": "np.int_ ``, ``np.intp"
                            }
                          ],
                          "type": "paragraph"
                        }
                      ],
                      "spread": false,
                      "type": "listItem"
                    }
                  ],
                  "ordered": false,
                  "spread": false,
                  "start": 1,
                  "type": "list"
                },
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "The specification is by precision rather than by C type. Hence, on some   platforms "
                    },
                    {
                      "type": "inlineCode",
                      "value": "np.int64"
                    },
                    {
                      "type": "text",
                      "value": " may be a "
                    },
                    {
                      "type": "inlineCode",
                      "value": "long"
                    },
                    {
                      "type": "text",
                      "value": " instead of "
                    },
                    {
                      "type": "inlineCode",
                      "value": "long long"
                    },
                    {
                      "type": "text",
                      "value": " even if   the specified dtype is "
                    },
                    {
                      "type": "inlineCode",
                      "value": "long long"
                    },
                    {
                      "type": "text",
                      "value": " because the two may have the same   precision. The resulting type depends on which C type numpy uses for the   given precision. The byteorder specification is also ignored, the   generated arrays are always in native byte order."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "A new "
                    },
                    {
                      "type": "inlineCode",
                      "value": "np.moveaxis"
                    },
                    {
                      "type": "text",
                      "value": " function allows for moving one or more array axes   to a new position by explicitly providing source and destination axes.   This function should be easier to use than the current "
                    },
                    {
                      "type": "inlineCode",
                      "value": "rollaxis"
                    },
                    {
                      "type": "text",
                      "value": "   function as well as providing more functionality."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "The "
                    },
                    {
                      "type": "inlineCode",
                      "value": "deg"
                    },
                    {
                      "type": "text",
                      "value": " parameter of the various "
                    },
                    {
                      "type": "inlineCode",
                      "value": "numpy.polynomial"
                    },
                    {
                      "type": "text",
                      "value": " fits has been   extended to accept a list of the degrees of the terms to be included in   the fit, the coefficients of all other terms being constrained to zero.   The change is backward compatible, passing a scalar "
                    },
                    {
                      "type": "inlineCode",
                      "value": "deg"
                    },
                    {
                      "type": "text",
                      "value": " will behave   as before."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            },
            {
              "children": [
                {
                  "children": [
                    {
                      "type": "text",
                      "value": "A divmod function for float types modeled after the Python version has   been added to the npy_math library."
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              "spread": false,
              "type": "listItem"
            }
          ],
          "ordered": false,
          "spread": false,
          "start": 1,
          "type": "list"
        }
      ],
      "level": 1,
      "target": null,
      "title": "New Features",
      "type": "Section"
    },
    {
      "children": [],
      "level": 1,
      "target": null,
      "title": "Improvements",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The "
            },
            {
              "type": "inlineCode",
              "value": "axis"
            },
            {
              "type": "text",
              "value": " parameter was added to "
            },
            {
              "type": "inlineCode",
              "value": "np.gradient"
            },
            {
              "type": "text",
              "value": " for consistency.  It allows to specify over which axes the gradient is calculated."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``np.gradient`` now supports an ``axis`` argument",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The function now internally calls the generic "
            },
            {
              "type": "inlineCode",
              "value": "npy_amergesort"
            },
            {
              "type": "text",
              "value": " when the type does not implement a merge-sort kind of "
            },
            {
              "type": "inlineCode",
              "value": "argsort"
            },
            {
              "type": "text",
              "value": " method."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``np.lexsort`` now supports arrays with object data-type",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "When constructing a new "
            },
            {
              "type": "inlineCode",
              "value": "MaskedArray"
            },
            {
              "type": "text",
              "value": " instance, it can be configured with an "
            },
            {
              "type": "inlineCode",
              "value": "order"
            },
            {
              "type": "text",
              "value": " argument analogous to the one when calling "
            },
            {
              "type": "inlineCode",
              "value": "np.ndarray"
            },
            {
              "type": "text",
              "value": ". The addition of this argument allows for the proper processing of an "
            },
            {
              "type": "inlineCode",
              "value": "order"
            },
            {
              "type": "text",
              "value": " argument in several MaskedArray-related utility functions such as "
            },
            {
              "type": "inlineCode",
              "value": "np.ma.core.array"
            },
            {
              "type": "text",
              "value": " and "
            },
            {
              "type": "inlineCode",
              "value": "np.ma.core.asarray"
            },
            {
              "type": "text",
              "value": "."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``np.ma.core.MaskedArray`` now supports an ``order`` argument",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "Creating a masked array with "
            },
            {
              "type": "inlineCode",
              "value": "mask=True"
            },
            {
              "type": "text",
              "value": " (resp. "
            },
            {
              "type": "inlineCode",
              "value": "mask=False"
            },
            {
              "type": "text",
              "value": ") now uses "
            },
            {
              "type": "inlineCode",
              "value": "np.ones"
            },
            {
              "type": "text",
              "value": " (resp. "
            },
            {
              "type": "inlineCode",
              "value": "np.zeros"
            },
            {
              "type": "text",
              "value": ") to create the mask, which is faster and avoid a big memory peak. Another optimization was done to avoid a memory peak and useless computations when printing a masked array."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "Memory and speed improvements for masked arrays",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The function now uses the fallocate system call to reserve sufficient disk space on file systems that support it."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``ndarray.tofile`` now uses fallocate on linux",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "Previously, "
            },
            {
              "type": "inlineCode",
              "value": "gemm"
            },
            {
              "type": "text",
              "value": " BLAS operations were used for all matrix products. Now, if the matrix product is between a matrix and its transpose, it will use "
            },
            {
              "type": "inlineCode",
              "value": "syrk"
            },
            {
              "type": "text",
              "value": " BLAS operations for a performance boost. This optimization has been extended to "
            },
            {
              "type": "inlineCode",
              "value": "@"
            },
            {
              "type": "text",
              "value": ", "
            },
            {
              "type": "inlineCode",
              "value": "numpy.dot"
            },
            {
              "type": "text",
              "value": ", "
            },
            {
              "type": "inlineCode",
              "value": "numpy.inner"
            },
            {
              "type": "text",
              "value": ", and "
            },
            {
              "type": "inlineCode",
              "value": "numpy.matmul"
            },
            {
              "type": "text",
              "value": "."
            }
          ],
          "type": "paragraph"
        },
        {
          "children": [
            {
              "children": [
                {
                  "type": "text",
                  "value": "Note:"
                }
              ],
              "type": "strong"
            },
            {
              "type": "text",
              "value": " Requires the transposed and non-transposed matrices to share data."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "Optimizations for operations of the form ``A.T @ A`` and ``A @ A.T``",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "This matches the behavior of "
            },
            {
              "type": "inlineCode",
              "value": "assert_raises"
            },
            {
              "type": "text",
              "value": "."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``np.testing.assert_warns`` can now be used as a context manager",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "inlineCode",
              "value": "np.random.shuffle"
            },
            {
              "type": "text",
              "value": " is now much faster for 1d ndarrays."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "Speed improvement for np.random.shuffle",
      "type": "Section"
    },
    {
      "children": [],
      "level": 1,
      "target": null,
      "title": "Changes",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The method "
            },
            {
              "type": "inlineCode",
              "value": "build_src.generate_a_pyrex_source"
            },
            {
              "type": "text",
              "value": " will remain available; it has been monkeypatched by users to support Cython instead of Pyrex.  It's recommended to switch to a better supported method of build Cython extensions though."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "Pyrex support was removed from ``numpy.distutils``",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The resulting object in that case will simply mimic iteration over a single array. This change obsoletes distinctions like"
            }
          ],
          "type": "paragraph"
        },
        {
          "children": [
            {
              "children": [
                {
                  "dd": [
                    {
                      "children": [
                        {
                          "type": "text",
                          "value": "shape = x[0].shape"
                        }
                      ],
                      "type": "paragraph"
                    }
                  ],
                  "dt": {
                    "children": [
                      {
                        "type": "text",
                        "value": "if len(x) == 1:"
                      }
                    ],
                    "type": "paragraph"
                  },
                  "type": "DefListItem"
                },
                {
                  "dd": [
                    {
                      "children": [
                        {
                          "type": "text",
                          "value": "shape = np.broadcast(\\*x).shape"
                        }
                      ],
                      "type": "paragraph"
                    }
                  ],
                  "dt": {
                    "children": [
                      {
                        "type": "text",
                        "value": "else:"
                      }
                    ],
                    "type": "paragraph"
                  },
                  "type": "DefListItem"
                }
              ],
              "type": "DefList"
            }
          ],
          "type": "blockquote"
        },
        {
          "children": [
            {
              "type": "text",
              "value": "Instead, "
            },
            {
              "type": "inlineCode",
              "value": "np.broadcast"
            },
            {
              "type": "text",
              "value": " can be used in all cases."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``np.broadcast`` can now be called with a single argument",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "This behaviour mimics that of other functions such as "
            },
            {
              "type": "inlineCode",
              "value": "np.diagonal"
            },
            {
              "type": "text",
              "value": " and ensures, e.g., that for masked arrays "
            },
            {
              "type": "inlineCode",
              "value": "np.trace(ma)"
            },
            {
              "type": "text",
              "value": " and "
            },
            {
              "type": "inlineCode",
              "value": "ma.trace()"
            },
            {
              "type": "text",
              "value": " give the same result."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``np.trace`` now respects array subclasses",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "This behaviour mimics that of other functions such as "
            },
            {
              "type": "inlineCode",
              "value": "np.inner"
            },
            {
              "type": "text",
              "value": ". If the two arguments cannot be cast to a common type, it could have raised a "
            },
            {
              "type": "inlineCode",
              "value": "TypeError"
            },
            {
              "type": "text",
              "value": " or "
            },
            {
              "type": "inlineCode",
              "value": "ValueError"
            },
            {
              "type": "text",
              "value": " depending on their order. Now, "
            },
            {
              "type": "inlineCode",
              "value": "np.dot"
            },
            {
              "type": "text",
              "value": " will now always raise a "
            },
            {
              "type": "inlineCode",
              "value": "TypeError"
            },
            {
              "type": "text",
              "value": "."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``np.dot`` now raises ``TypeError`` instead of ``ValueError``",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The "
            },
            {
              "type": "inlineCode",
              "value": "linalg.norm"
            },
            {
              "type": "text",
              "value": " function now does all its computations in floating point and returns floating results. This change fixes bugs due to integer overflow and the failure of abs with signed integers of minimum value, e.g., int8(-128). For consistency, floats are used even where an integer might work."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "``linalg.norm`` return type changes",
      "type": "Section"
    },
    {
      "children": [],
      "level": 1,
      "target": null,
      "title": "Deprecations",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The F_CONTIGUOUS flag was used to signal that views using a dtype that changed the element size would change the first index. This was always problematical for arrays that were both F_CONTIGUOUS and C_CONTIGUOUS because C_CONTIGUOUS took precedence. Relaxed stride checking results in more such dual contiguous arrays and breaks some existing code as a result. Note that this also affects changing the dtype by assigning to the dtype attribute of an array. The aim of this deprecation is to restrict views to C_CONTIGUOUS arrays at some future time. A work around that is backward compatible is to use "
            },
            {
              "type": "inlineCode",
              "value": "a.T.view(...).T"
            },
            {
              "type": "text",
              "value": " instead. A parameter may also be added to the view method to explicitly ask for Fortran order views, but that will not be backward compatible."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "Views of arrays in Fortran order",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "It is currently possible to pass in arguments for the "
            },
            {
              "type": "inlineCode",
              "value": "order"
            },
            {
              "type": "text",
              "value": " parameter in methods like "
            },
            {
              "type": "inlineCode",
              "value": "array.flatten"
            },
            {
              "type": "text",
              "value": " or "
            },
            {
              "type": "inlineCode",
              "value": "array.ravel"
            },
            {
              "type": "text",
              "value": " that were not one of the following: 'C', 'F', 'A', 'K' (note that all of these possible values are both unicode and case insensitive). Such behavior will not be allowed in future releases."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "Invalid arguments for array ordering",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "The Python standard library random number generator was previously exposed in the "
            },
            {
              "type": "inlineCode",
              "value": "testing"
            },
            {
              "type": "text",
              "value": " namespace as "
            },
            {
              "type": "inlineCode",
              "value": "testing.rand"
            },
            {
              "type": "text",
              "value": ". Using this generator is not recommended and it will be removed in a future release. Use generators from "
            },
            {
              "type": "inlineCode",
              "value": "numpy.random"
            },
            {
              "type": "text",
              "value": " namespace instead."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "Random number generator in the ``testing`` namespace",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "In accordance with the Python C API, which gives preference to the half-open interval over the closed one, "
            },
            {
              "type": "inlineCode",
              "value": "np.random.random_integers"
            },
            {
              "type": "text",
              "value": " is being deprecated in favor of calling "
            },
            {
              "type": "inlineCode",
              "value": "np.random.randint"
            },
            {
              "type": "text",
              "value": ", which has been enhanced with the "
            },
            {
              "type": "inlineCode",
              "value": "dtype"
            },
            {
              "type": "text",
              "value": " parameter as described under \"New Features\". However, "
            },
            {
              "type": "inlineCode",
              "value": "np.random.random_integers"
            },
            {
              "type": "text",
              "value": " will not be removed anytime soon."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "Random integer generation on a closed interval",
      "type": "Section"
    },
    {
      "children": [],
      "level": 1,
      "target": null,
      "title": "FutureWarnings",
      "type": "Section"
    },
    {
      "children": [
        {
          "children": [
            {
              "type": "text",
              "value": "Currently a slice of a masked array contains a view of the original data and a copy-on-write view of the mask. Consequently, any changes to the slice's mask will result in a copy of the original mask being made and that new mask being changed rather than the original. For example, if we make a slice of the original like so, "
            },
            {
              "type": "inlineCode",
              "value": "view = original[:]"
            },
            {
              "type": "text",
              "value": ", then modifications to the data in one array will affect the data of the other but, because the mask will be copied during assignment operations, changes to the mask will remain local. A similar situation occurs when explicitly constructing a masked array using "
            },
            {
              "type": "inlineCode",
              "value": "MaskedArray(data, mask)"
            },
            {
              "type": "text",
              "value": ", the returned array will contain a view of "
            },
            {
              "type": "inlineCode",
              "value": "data"
            },
            {
              "type": "text",
              "value": " but the mask will be a copy-on-write view of "
            },
            {
              "type": "inlineCode",
              "value": "mask"
            },
            {
              "type": "text",
              "value": "."
            }
          ],
          "type": "paragraph"
        },
        {
          "children": [
            {
              "type": "text",
              "value": "In the future, these cases will be normalized so that the data and mask arrays are treated the same way and modifications to either will propagate between views. In 1.11, numpy will issue a "
            },
            {
              "type": "inlineCode",
              "value": "MaskedArrayFutureWarning"
            },
            {
              "type": "text",
              "value": " warning whenever user code modifies the mask of a view that in the future may cause values to propagate back to the original.  To silence these warnings and make your code robust against the upcoming changes, you have two options: if you want to keep the current behavior, call "
            },
            {
              "type": "inlineCode",
              "value": "masked_view.unshare_mask()"
            },
            {
              "type": "text",
              "value": " before modifying the mask.  If you want to get the future behavior early, use "
            },
            {
              "type": "inlineCode",
              "value": "masked_view._sharedmask = False"
            },
            {
              "type": "text",
              "value": ". However, note that setting the "
            },
            {
              "type": "inlineCode",
              "value": "_sharedmask"
            },
            {
              "type": "text",
              "value": " attribute will break following explicit calls to "
            },
            {
              "type": "inlineCode",
              "value": "masked_view.unshare_mask()"
            },
            {
              "type": "text",
              "value": "."
            }
          ],
          "type": "paragraph"
        }
      ],
      "level": 2,
      "target": null,
      "title": "Assigning to slices/views of ``MaskedArray``",
      "type": "Section"
    }
  ],
  "content": {},
  "example_section_data": {
    "children": [],
    "level": 0,
    "target": null,
    "title": null,
    "type": "Section"
  },
  "item_file": null,
  "item_line": null,
  "item_type": null,
  "ordered_sections": [],
  "references": null,
  "see_also": [],
  "signature": {
    "type": "Signature",
    "value": null
  },
  "type": "DocBlob"
}