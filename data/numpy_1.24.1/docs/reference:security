{
  "aliases": [],
  "arbitrary": [
    {
      "children": [
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "Security issues can be reported privately as described in the project README and when opening a "
                },
                "type": "Words"
              },
              {
                "data": {
                  "target": "https://github.com/numpy/numpy/issues/new/choose",
                  "value": "new issue on the issue tracker"
                },
                "type": "ExternalLink"
              },
              {
                "data": {
                  "value": ". The "
                },
                "type": "Words"
              },
              {
                "data": {
                  "target": "https://www.python.org/dev/security/",
                  "value": "Python security reporting guidelines"
                },
                "type": "ExternalLink"
              },
              {
                "data": {
                  "value": " are a good resource and its notes apply also to NumPy."
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "NumPy's maintainers are not security experts.  However, we are conscientious about security and experts of both the NumPy codebase and how it's used. Please do notify us before creating security advisories against NumPy as we are happy to prioritize issues or help with assessing the severity of a bug. A security advisory we are not aware of beforehand can lead to a lot of work for all involved parties."
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        }
      ],
      "level": 0,
      "target": null,
      "title": "NumPy security"
    },
    {
      "children": [
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "A user who can freely execute NumPy (or Python) functions must be considered to have the same privilege as the process/Python interpreter."
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "That said, NumPy should be generally safe to use on "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": {
                    "value": "data"
                  }
                },
                "type": "Emph"
              },
              {
                "data": {
                  "value": " provided by unprivileged users and read through safe API functions (e.g. loaded from a text file or "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    ".npy"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " file without pickle support). Malicious "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": {
                    "value": "values"
                  }
                },
                "type": "Emph"
              },
              {
                "data": {
                  "value": " or "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": {
                    "value": "data sizes"
                  }
                },
                "type": "Emph"
              },
              {
                "data": {
                  "value": " should never lead to privilege escalation."
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "The following points may be useful or should be noted when working with untrusted data:"
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "children": [
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "Exhausting memory can result in an out-of-memory kill, which is a possible   denial of service attack.  Possible causes could be:"
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  },
                  {
                    "data": {
                      "children": [
                        {
                          "children": [
                            {
                              "data": {
                                "children": [
                                  {
                                    "data": {
                                      "value": "Functions reading text files, which may require much more memory than     the original input file size."
                                    },
                                    "type": "Words"
                                  }
                                ]
                              },
                              "type": "Paragraph"
                            }
                          ]
                        },
                        {
                          "children": [
                            {
                              "data": {
                                "children": [
                                  {
                                    "data": {
                                      "value": "If users can create arbitrarily shaped arrays, NumPy's broadcasting means     that intermediate or result arrays can be much larger than the inputs."
                                    },
                                    "type": "Words"
                                  }
                                ]
                              },
                              "type": "Paragraph"
                            }
                          ]
                        }
                      ]
                    },
                    "type": "BulletList"
                  }
                ]
              },
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "NumPy structured dtypes allow for a large amount of complexity.  Fortunately,   most code fails gracefully when a structured dtype is provided unexpectedly.   However, code should either disallow untrusted users to provide these   (e.g. via "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              ".npy"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " files) or carefully check the fields included for   nested structured/subarray dtypes."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              },
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "Passing on user input should generally be considered unsafe   (except for the data being read).   An example would be "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "np.dtype(user_string)"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " or "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "dtype=user_string"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": "."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              },
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "The speed of operations can depend on values and memory order can lead to   larger temporary memory use and slower execution.   This means that operations may be significantly slower or use more memory   compared to simple test cases."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              },
              {
                "children": [
                  {
                    "data": {
                      "children": [
                        {
                          "data": {
                            "value": "When reading data, consider enforcing a specific shape (e.g. one dimensional)   or dtype such as "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "float64"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": ", "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "float32"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": ", or "
                          },
                          "type": "Words"
                        },
                        {
                          "data": {
                            "value": [
                              "int64"
                            ]
                          },
                          "type": "Verbatim"
                        },
                        {
                          "data": {
                            "value": " to reduce complexity."
                          },
                          "type": "Words"
                        }
                      ]
                    },
                    "type": "Paragraph"
                  }
                ]
              }
            ]
          },
          "type": "BulletList"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "When working with non-trivial untrusted data, it is advisable to sandbox the analysis to guard against potential privilege escalation. This is especially advisable if further libraries based on NumPy are used since these add additional complexity and potential security issues."
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        }
      ],
      "level": 1,
      "target": null,
      "title": "Advice for using NumPy on untrusted data"
    }
  ],
  "content": {},
  "example_section_data": {
    "children": [],
    "level": 0,
    "target": null,
    "title": null
  },
  "item_file": null,
  "item_line": null,
  "item_type": null,
  "ordered_sections": [],
  "references": null,
  "see_also": [],
  "signature": {
    "value": null
  }
}