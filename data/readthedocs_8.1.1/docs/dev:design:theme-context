{
  "aliases": [],
  "arbitrary": [
    {
      "children": [
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "Before calling "
                },
                "type": "Words"
              },
              {
                "data": {
                  "domain": null,
                  "role": null,
                  "value": "sphinx-build"
                },
                "type": "Directive"
              },
              {
                "data": {
                  "value": " to render your docs, Read the Docs injects some extra context in the templates by using the "
                },
                "type": "Words"
              },
              {
                "data": {
                  "domain": null,
                  "role": null,
                  "value": "html_context Sphinx setting"
                },
                "type": "Directive"
              },
              {
                "data": {
                  "value": " in the "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "conf.py"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " file. This extra context can be used to build some awesome features in your own theme."
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "placeholder": "target",
            "value": ".. _html_context Sphinx setting: http://www.sphinx-doc.org/en/stable/config.html#confval-html_context"
          },
          "type": "Unimplemented"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "children": [
                    {
                      "data": {
                        "value": "This design document details future features that are "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "content": {
                          "value": "not yet implemented"
                        }
                      },
                      "type": "Strong"
                    },
                    {
                      "data": {
                        "value": ". To discuss this document, please get in touch in the "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "domain": null,
                        "role": null,
                        "value": "issue tracker"
                      },
                      "type": "Directive"
                    },
                    {
                      "data": {
                        "value": "."
                      },
                      "type": "Words"
                    }
                  ]
                },
                "type": "Paragraph"
              }
            ],
            "kind": "warning",
            "title": ""
          },
          "type": "Admonition"
        },
        {
          "data": {
            "placeholder": "target",
            "value": ".. _issue tracker: https://github.com/readthedocs/readthedocs.org/issues"
          },
          "type": "Unimplemented"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "children": [
                    {
                      "data": {
                        "value": "The "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "domain": null,
                        "role": null,
                        "value": "Read the Docs Sphinx Theme"
                      },
                      "type": "Directive"
                    },
                    {
                      "data": {
                        "value": " uses this context to add additional features to the built documentation."
                      },
                      "type": "Words"
                    }
                  ]
                },
                "type": "Paragraph"
              }
            ],
            "kind": "note",
            "title": ""
          },
          "type": "Admonition"
        },
        {
          "data": {
            "placeholder": "target",
            "value": ".. _Read the Docs Sphinx Theme: https://sphinx-rtd-theme.readthedocs.io/en/latest/"
          },
          "type": "Unimplemented"
        }
      ],
      "level": 0,
      "title": "Read the Docs data passed to Sphinx build context"
    },
    {
      "children": [
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "Here is the full list of values injected by Read the Docs as a Python dictionary. Note that this dictionary is injected under the main key "
                },
                "type": "Words"
              },
              {
                "data": {
                  "exists": true,
                  "kind": "module",
                  "reference": {
                    "kind": "api",
                    "module": "readthedocs",
                    "path": "readthedocs",
                    "version": "*"
                  },
                  "value": "readthedocs"
                },
                "type": "Link"
              },
              {
                "data": {
                  "value": ":"
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "value": ".. This context comes from ``readthedocs.doc_builder.backends.sphinx.BaseSphinx.get_config_params`` class.\n   The source code is at, https://github.com/readthedocs/readthedocs.org/blob/0c547f47fb9dffbeb17e4e9ccf205a10caf31189/readthedocs/doc_builder/backends/sphinx.py#L65"
          },
          "type": "Comment"
        },
        {
          "data": {
            "value": "{\n    'readthedocs': {\n        'v1': {\n            'version': {\n                'id': int,\n                'slug': str,\n                'verbose_name': str,\n                'identifier': str,\n                'type': str,\n                'build_date': str,\n                'downloads': {\n                    'pdf': str,\n                    'htmlzip': str,\n                    'epub': str\n                },\n                'links': [{\n                    'href': 'https://readthedocs.org/api/v2/version/{id}/',\n                    'rel': 'self'\n                }],\n            },\n            'project': {\n                'id': int,\n                'name': str,\n                'slug': str,\n                'description': str,\n                'language': str,\n                'canonical_url': str,\n                'subprojects': [{\n                    'id': int,\n                    'name': str,\n                    'slug': str,\n                    'description': str,\n                    'language': str,\n                    'canonical_url': str,\n                    'links': [{\n                        'href': 'https://readthedocs.org/api/v2/project/{id}/',\n                        'rel': 'self'\n                    }]\n                }],\n                'links': [{\n                    'href': 'https://readthedocs.org/api/v2/project/{id}/',\n                    'rel': 'self'\n                }]\n            },\n            'sphinx': {\n                'html_theme': str,\n                'source_suffix': str\n            },\n            'analytics': {\n                'user_analytics_code': str,\n                'global_analytics_code': str\n            },\n            'vcs': {\n                'type': str,  # 'bitbucket', 'github', 'gitlab' or 'svn'\n                'user': str,\n                'repo': str,\n                'commit': str,\n                'version': str,\n                'display': bool,\n                'conf_py_path': str\n            },\n            'meta': {\n                'API_HOST': str,\n                'MEDIA_URL': str,\n                'PRODUCTION_DOMAIN': str,\n                'READTHEDOCS': True\n            }\n        }\n    }\n}"
          },
          "type": "BlockVerbatim"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "children": [
                    {
                      "data": {
                        "value": "Read the Docs passes information to "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "domain": null,
                        "role": null,
                        "value": "sphinx-build"
                      },
                      "type": "Directive"
                    },
                    {
                      "data": {
                        "value": " that may change in the future (e.g. at the moment of building the version "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "domain": null,
                        "role": null,
                        "value": "0.6"
                      },
                      "type": "Directive"
                    },
                    {
                      "data": {
                        "value": " this was the "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "domain": null,
                        "role": null,
                        "value": "latest"
                      },
                      "type": "Directive"
                    },
                    {
                      "data": {
                        "value": " but then "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "domain": null,
                        "role": null,
                        "value": "0.7"
                      },
                      "type": "Directive"
                    },
                    {
                      "data": {
                        "value": " and "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "domain": null,
                        "role": null,
                        "value": "0.8"
                      },
                      "type": "Directive"
                    },
                    {
                      "data": {
                        "value": " were added to the project and also built under Read the Docs) so it's your responsibility to use this context in a proper way."
                      },
                      "type": "Words"
                    }
                  ]
                },
                "type": "Paragraph"
              },
              {
                "data": {
                  "children": [
                    {
                      "data": {
                        "value": "In case you want "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "value": {
                          "value": "fresh data"
                        }
                      },
                      "type": "Emph"
                    },
                    {
                      "data": {
                        "value": " at the moment of reading your documentation, you should consider using the "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "domain": null,
                        "role": "doc",
                        "value": "Read the Docs Public API <rtd:api/index>"
                      },
                      "type": "Directive"
                    },
                    {
                      "data": {
                        "value": " via Javascript."
                      },
                      "type": "Words"
                    }
                  ]
                },
                "type": "Paragraph"
              }
            ],
            "kind": "warning",
            "title": ""
          },
          "type": "Admonition"
        }
      ],
      "level": 1,
      "title": "Context injected"
    },
    {
      "children": [
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "In case you want to access to this data from your theme, you can use it like this:"
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "value": "{% if readthedocs.v1.vcs.type == 'github' %}\n    <a href=\"https://github.com/{{ readthedocs.v1.vcs.user }}/{{ readthedocs.v1.vcs.repo }}\n    /blob/{{ readthedocs.v1.vcs.version }}{{ readthedocs.v1.vcs.conf_py_path }}{{ pagename }}.rst\">\n    Show on GitHub</a>\n{% endif %}"
          },
          "type": "BlockVerbatim"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "children": [
                    {
                      "data": {
                        "value": "In this example, we are using "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "value": [
                          "pagename"
                        ]
                      },
                      "type": "Verbatim"
                    },
                    {
                      "data": {
                        "value": " which is a Sphinx variable representing the name of the page you are on. More information about Sphinx variables can be found in the "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "domain": null,
                        "role": null,
                        "value": "Sphinx documentation"
                      },
                      "type": "Directive"
                    },
                    {
                      "data": {
                        "value": "."
                      },
                      "type": "Words"
                    }
                  ]
                },
                "type": "Paragraph"
              }
            ],
            "kind": "note",
            "title": ""
          },
          "type": "Admonition"
        },
        {
          "data": {
            "placeholder": "target",
            "value": ".. _`Sphinx documentation`: http://www.sphinx-doc.org/en/stable/templating.html#global-variables"
          },
          "type": "Unimplemented"
        }
      ],
      "level": 1,
      "title": "Using Read the Docs context in your theme"
    },
    {
      "children": [
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "In case you want to add some extra context you will have to declare your own "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "html_context"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " in your "
                },
                "type": "Words"
              },
              {
                "data": {
                  "value": [
                    "conf.py"
                  ]
                },
                "type": "Verbatim"
              },
              {
                "data": {
                  "value": " like this:"
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "value": "html_context = {\n    'author': 'My Name',\n    'date': datetime.date.today().strftime('%d/%m/%y'),\n}"
          },
          "type": "BlockVerbatim"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "value": "and use it inside your theme as:"
                },
                "type": "Words"
              }
            ]
          },
          "type": "Paragraph"
        },
        {
          "data": {
            "value": "<p>This documentation was written by {{ author }} on {{ date }}.</p>"
          },
          "type": "BlockVerbatim"
        },
        {
          "data": {
            "children": [
              {
                "data": {
                  "children": [
                    {
                      "data": {
                        "value": "Take into account that the Read the Docs context is injected after your definition of "
                      },
                      "type": "Words"
                    },
                    {
                      "data": {
                        "value": [
                          "html_context"
                        ]
                      },
                      "type": "Verbatim"
                    },
                    {
                      "data": {
                        "value": " so, it's not possible to override Read the Docs context values."
                      },
                      "type": "Words"
                    }
                  ]
                },
                "type": "Paragraph"
              }
            ],
            "kind": "warning",
            "title": ""
          },
          "type": "Admonition"
        }
      ],
      "level": 1,
      "title": "Customizing the context"
    }
  ],
  "content": {},
  "example_section_data": {
    "children": [],
    "level": 0,
    "title": null
  },
  "item_file": null,
  "item_line": null,
  "item_type": null,
  "ordered_sections": [],
  "references": null,
  "see_also": [],
  "signature": {
    "value": null
  }
}