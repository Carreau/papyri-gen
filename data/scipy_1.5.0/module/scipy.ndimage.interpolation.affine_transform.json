{
  "_content": {
    "Summary": {
      "children": [
        {
          "type": "Paragraph",
          "data": {
            "inline": [
              {
                "type": "Words",
                "data": {
                  "value": "Apply an affine transformation."
                }
              }
            ],
            "inner": []
          }
        }
      ],
      "title": null
    },
    "Extended Summary": {
      "children": [
        {
          "type": "Paragraph",
          "data": {
            "inline": [
              {
                "type": "Words",
                "data": {
                  "value": "Given an output image pixel index vector "
                }
              },
              {
                "type": "Verbatim",
                "data": {
                  "value": [
                    "o"
                  ]
                }
              },
              {
                "type": "Words",
                "data": {
                  "value": ", the pixel value is determined from the input image at position "
                }
              },
              {
                "type": "Verbatim",
                "data": {
                  "value": [
                    "np.dot(matrix,",
                    " ",
                    "o)",
                    " ",
                    "+",
                    " ",
                    "offset"
                  ]
                }
              },
              {
                "type": "Words",
                "data": {
                  "value": "."
                }
              }
            ],
            "inner": []
          }
        },
        {
          "type": "Paragraph",
          "data": {
            "inline": [
              {
                "type": "Words",
                "data": {
                  "value": "This does 'pull' (or 'backward') resampling, transforming the output space to the input to locate data. Affine transformations are often described in the 'push' (or 'forward') direction, transforming input to output. If you have a matrix for the 'push' transformation, use its inverse ("
                }
              },
              {
                "type": "Directive",
                "data": {
                  "value": [
                    "numpy.linalg.inv"
                  ],
                  "domain": null,
                  "role": "func"
                }
              },
              {
                "type": "Words",
                "data": {
                  "value": ") in this function."
                }
              }
            ],
            "inner": []
          }
        }
      ],
      "title": null
    },
    "Parameters": {
      "children": [
        {
          "type": "Param",
          "data": {
            "param": "input",
            "type_": "array_like",
            "desc": [
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "The input array."
                      }
                    }
                  ],
                  "inner": []
                }
              }
            ]
          }
        },
        {
          "type": "Param",
          "data": {
            "param": "matrix",
            "type_": "ndarray",
            "desc": [
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "The inverse coordinate transformation matrix, mapping output coordinates to input coordinates. If "
                      }
                    },
                    {
                      "type": "Verbatim",
                      "data": {
                        "value": [
                          "ndim"
                        ]
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": " is the number of dimensions of "
                      }
                    },
                    {
                      "type": "Verbatim",
                      "data": {
                        "value": [
                          "input"
                        ]
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ", the given matrix must have one of the following shapes:"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "    - "
                      }
                    },
                    {
                      "type": "Verbatim",
                      "data": {
                        "value": [
                          "(ndim,",
                          " ",
                          "ndim)"
                        ]
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ": the linear transformation matrix for each"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "      output coordinate."
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "    - "
                      }
                    },
                    {
                      "type": "Verbatim",
                      "data": {
                        "value": [
                          "(ndim,)"
                        ]
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ": assume that the 2-D transformation matrix is"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "      diagonal, with the diagonal specified by the given value. A more       efficient algorithm is then used that exploits the separability       of the problem."
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "    - "
                      }
                    },
                    {
                      "type": "Verbatim",
                      "data": {
                        "value": [
                          "(ndim",
                          " ",
                          "+",
                          " ",
                          "1,",
                          " ",
                          "ndim",
                          " ",
                          "+",
                          " ",
                          "1)"
                        ]
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ": assume that the transformation is"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "      specified using homogeneous coordinates [1]_. In this case, any       value passed to "
                      }
                    },
                    {
                      "type": "Verbatim",
                      "data": {
                        "value": [
                          "offset"
                        ]
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": " is ignored."
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "    - "
                      }
                    },
                    {
                      "type": "Verbatim",
                      "data": {
                        "value": [
                          "(ndim,",
                          " ",
                          "ndim",
                          " ",
                          "+",
                          " ",
                          "1)"
                        ]
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ": as above, but the bottom row of a"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "      homogeneous transformation matrix is always "
                      }
                    },
                    {
                      "type": "Verbatim",
                      "data": {
                        "value": [
                          "[0,",
                          " ",
                          "0,",
                          " ",
                          "...,",
                          " ",
                          "1]"
                        ]
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ",       and may be omitted."
                      }
                    }
                  ],
                  "inner": []
                }
              }
            ]
          }
        },
        {
          "type": "Param",
          "data": {
            "param": "offset",
            "type_": "float or sequence, optional",
            "desc": [
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "The offset into the array where the transform is applied. If a float, "
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "offset"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": " is the same for each axis. If a sequence, "
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "offset"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": " should contain one value for each axis."
                      }
                    }
                  ],
                  "inner": []
                }
              }
            ]
          }
        },
        {
          "type": "Param",
          "data": {
            "param": "output_shape",
            "type_": "tuple of ints, optional",
            "desc": [
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "Shape tuple."
                      }
                    }
                  ],
                  "inner": []
                }
              }
            ]
          }
        },
        {
          "type": "Param",
          "data": {
            "param": "output",
            "type_": "array or dtype, optional",
            "desc": [
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "The array in which to place the output, or the dtype of the returned array. By default an array of the same dtype as input will be created."
                      }
                    }
                  ],
                  "inner": []
                }
              }
            ]
          }
        },
        {
          "type": "Param",
          "data": {
            "param": "order",
            "type_": "int, optional",
            "desc": [
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "The order of the spline interpolation, default is 3. The order has to be in the range 0-5."
                      }
                    }
                  ],
                  "inner": []
                }
              }
            ]
          }
        },
        {
          "type": "Param",
          "data": {
            "param": "mode",
            "type_": "{'reflect', 'constant', 'nearest', 'mirror', 'wrap'}, optional",
            "desc": [
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "The "
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "mode"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": " parameter determines how the input array is extended beyond its boundaries. Default is 'constant'. Behavior for each valid value is as follows:"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "'reflect' ("
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "d",
                          " ",
                          "c",
                          " ",
                          "b",
                          " ",
                          "a",
                          " ",
                          "|",
                          " ",
                          "a",
                          " ",
                          "b",
                          " ",
                          "c",
                          " ",
                          "d",
                          " ",
                          "|",
                          " ",
                          "d",
                          " ",
                          "c",
                          " ",
                          "b",
                          " ",
                          "a"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ")"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "    The input is extended by reflecting about the edge of the last     pixel."
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "'constant' ("
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "k",
                          " ",
                          "k",
                          " ",
                          "k",
                          " ",
                          "k",
                          " ",
                          "|",
                          " ",
                          "a",
                          " ",
                          "b",
                          " ",
                          "c",
                          " ",
                          "d",
                          " ",
                          "|",
                          " ",
                          "k",
                          " ",
                          "k",
                          " ",
                          "k",
                          " ",
                          "k"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ")"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "    The input is extended by filling all values beyond the edge with     the same constant value, defined by the "
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "cval"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": " parameter."
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "'nearest' ("
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "a",
                          " ",
                          "a",
                          " ",
                          "a",
                          " ",
                          "a",
                          " ",
                          "|",
                          " ",
                          "a",
                          " ",
                          "b",
                          " ",
                          "c",
                          " ",
                          "d",
                          " ",
                          "|",
                          " ",
                          "d",
                          " ",
                          "d",
                          " ",
                          "d",
                          " ",
                          "d"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ")"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "    The input is extended by replicating the last pixel."
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "'mirror' ("
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "d",
                          " ",
                          "c",
                          " ",
                          "b",
                          " ",
                          "|",
                          " ",
                          "a",
                          " ",
                          "b",
                          " ",
                          "c",
                          " ",
                          "d",
                          " ",
                          "|",
                          " ",
                          "c",
                          " ",
                          "b",
                          " ",
                          "a"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ")"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "    The input is extended by reflecting about the center of the last     pixel."
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "'wrap' ("
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "a",
                          " ",
                          "b",
                          " ",
                          "c",
                          " ",
                          "d",
                          " ",
                          "|",
                          " ",
                          "a",
                          " ",
                          "b",
                          " ",
                          "c",
                          " ",
                          "d",
                          " ",
                          "|",
                          " ",
                          "a",
                          " ",
                          "b",
                          " ",
                          "c",
                          " ",
                          "d"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ")"
                      }
                    }
                  ],
                  "inner": []
                }
              },
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "    The input is extended by wrapping around to the opposite edge."
                      }
                    }
                  ],
                  "inner": []
                }
              }
            ]
          }
        },
        {
          "type": "Param",
          "data": {
            "param": "cval",
            "type_": "scalar, optional",
            "desc": [
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "Value to fill past edges of input if "
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "mode"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": " is 'constant'. Default is 0.0."
                      }
                    }
                  ],
                  "inner": []
                }
              }
            ]
          }
        },
        {
          "type": "Param",
          "data": {
            "param": "prefilter",
            "type_": "bool, optional",
            "desc": [
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "Determines if the input array is prefiltered with "
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "spline",
                          "_",
                          "filter"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": " before interpolation. The default is True, which will create a temporary "
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "float64"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": " array of filtered values if "
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "order",
                          " ",
                          ">",
                          " ",
                          "1"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ". If setting this to False, the output will be slightly blurred if "
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "order",
                          " ",
                          ">",
                          " ",
                          "1"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": ", unless the input is prefiltered, i.e. it is the result of calling "
                      }
                    },
                    {
                      "type": "Directive",
                      "data": {
                        "value": [
                          "spline",
                          "_",
                          "filter"
                        ],
                        "domain": null,
                        "role": null
                      }
                    },
                    {
                      "type": "Words",
                      "data": {
                        "value": " on the original input."
                      }
                    }
                  ],
                  "inner": []
                }
              }
            ]
          }
        }
      ],
      "title": null
    },
    "Returns": {
      "children": [
        {
          "type": "Param",
          "data": {
            "param": "affine_transform",
            "type_": "ndarray",
            "desc": [
              {
                "type": "Paragraph",
                "data": {
                  "inline": [
                    {
                      "type": "Words",
                      "data": {
                        "value": "The transformed input."
                      }
                    }
                  ],
                  "inner": []
                }
              }
            ]
          }
        }
      ],
      "title": null
    },
    "Yields": {
      "children": [],
      "title": null
    },
    "Receives": {
      "children": [],
      "title": null
    },
    "Raises": {
      "children": [],
      "title": null
    },
    "Warns": {
      "children": [],
      "title": null
    },
    "Other Parameters": {
      "children": [],
      "title": null
    },
    "Attributes": {
      "children": [],
      "title": null
    },
    "Methods": {
      "children": [],
      "title": null
    },
    "Notes": {
      "children": [
        {
          "type": "Paragraph",
          "data": {
            "inline": [
              {
                "type": "Words",
                "data": {
                  "value": "The given matrix and offset are used to find for each point in the output the corresponding coordinates in the input by an affine transformation. The value of the input at those coordinates is determined by spline interpolation of the requested order. Points outside the boundaries of the input are filled according to the given mode."
                }
              }
            ],
            "inner": []
          }
        },
        {
          "type": "BlockDirective",
          "data": {
            "lines": {
              "_lines": [
                {
                  "_line": ".. versionchanged:: 0.18.0",
                  "_number": 7,
                  "_offset": 0
                }
              ]
            },
            "wh": {
              "_lines": []
            },
            "ind": {
              "_lines": [
                {
                  "_line": "    Previously, the exact interpretation of the affine transformation",
                  "_number": 8,
                  "_offset": 0
                },
                {
                  "_line": "    depended on whether the matrix was supplied as a 1-D or a",
                  "_number": 9,
                  "_offset": 0
                },
                {
                  "_line": "    2-D array. If a 1-D array was supplied",
                  "_number": 10,
                  "_offset": 0
                },
                {
                  "_line": "    to the matrix parameter, the output pixel value at index ``o``",
                  "_number": 11,
                  "_offset": 0
                },
                {
                  "_line": "    was determined from the input image at position",
                  "_number": 12,
                  "_offset": 0
                },
                {
                  "_line": "    ``matrix * (o + offset)``.",
                  "_number": 13,
                  "_offset": 0
                }
              ]
            },
            "directive_name": "versionchanged",
            "args0": [
              " 0.18.0"
            ],
            "inner": {
              "inline": [
                {
                  "type": "Words",
                  "data": {
                    "value": "Previously, the exact interpretation of the affine transformation depended on whether the matrix was supplied as a 1-D or a 2-D array. If a 1-D array was supplied to the matrix parameter, the output pixel value at index "
                  }
                },
                {
                  "type": "Verbatim",
                  "data": {
                    "value": [
                      "o"
                    ]
                  }
                },
                {
                  "type": "Words",
                  "data": {
                    "value": " was determined from the input image at position "
                  }
                },
                {
                  "type": "Verbatim",
                  "data": {
                    "value": [
                      "matrix",
                      " ",
                      "*",
                      " ",
                      "(o",
                      " ",
                      "+",
                      " ",
                      "offset)"
                    ]
                  }
                },
                {
                  "type": "Words",
                  "data": {
                    "value": "."
                  }
                }
              ],
              "inner": []
            }
          }
        }
      ],
      "title": null
    },
    "Warnings": {
      "children": [],
      "title": null
    }
  },
  "refs": [],
  "ordered_sections": [
    "Summary",
    "Extended Summary",
    "Parameters",
    "Returns",
    "Notes",
    "References"
  ],
  "item_file": "/Users/bussonniermatthias/miniconda3/lib/python3.8/site-packages/scipy/ndimage/interpolation.py",
  "item_line": 395,
  "item_type": "<class 'function'>",
  "aliases": [
    "scipy.ndimage.affine_transform"
  ],
  "example_section_data": {
    "children": [],
    "title": null
  },
  "see_also": [],
  "signature": "affine_transform(input, matrix, offset=0.0, output_shape=None, output=None, order=3, mode='constant', cval=0.0, prefilter=True)",
  "references": [
    ".. [1] https://en.wikipedia.org/wiki/Homogeneous_coordinates"
  ],
  "arbitrary": []
}